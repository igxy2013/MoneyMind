# 数据库迁移说明

## 从SQLite迁移到MySQL

### 1. 数据库配置已更新

应用已配置为使用MySQL数据库：
- 服务器：acbim.fun
- 用户名：mysql
- 密码：12345678
- 数据库：MoneyMind

### 2. 迁移步骤

#### 步骤1：确保MySQL数据库存在
请确保MySQL服务器上已创建名为 `MoneyMind` 的数据库。

#### 步骤2：运行应用创建表结构
```bash
python app.py
```
这将自动创建所有必要的数据库表。

#### 步骤3：迁移现有数据（可选）
如果您有SQLite数据库中的现有数据需要迁移，请运行：
```bash
python migrate_to_mysql.py
```

### 3. 数据库连接测试

应用启动时会显示以下信息：
- "数据库表创建成功" - 表示MySQL连接正常
- "默认管理员账户已创建" - 表示可以正常写入数据

如果出现错误，请检查：
1. MySQL服务器是否运行
2. 数据库连接信息是否正确
3. 数据库是否存在
4. 用户权限是否足够

### 4. 新的依赖

已添加 `PyMySQL==1.0.3` 到 `requirements.txt`。

### 5. 注意事项

- 确保MySQL服务器支持UTF8MB4字符集
- 确保MySQL用户有足够的权限创建和修改表
- 如果迁移失败，请检查网络连接和数据库权限

### 6. 故障排除

如果遇到连接问题：
1. 检查网络连接：`ping acbim.fun`
2. 检查端口：`telnet acbim.fun 3306`
3. 检查数据库用户权限
4. 查看应用启动时的错误信息 