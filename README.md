# 七彩果坊企业记账系统

一个专为社区团购企业设计的企业级记账管理系统。

## 功能特性

- **多用户权限管理**: 支持管理员、经理、员工三种角色
- **供应商管理**: 完整的供应商信息管理
- **商品管理**: 支持成本价和销售价管理
- **交易记录**: 智能单价设置，支持数量和单价计算
- **统计分析**: 柱形图显示收支趋势
- **数据可视化**: 丰富的图表和统计信息

## 快速开始

### Windows用户

1. **首次安装**
   ```
   双击运行 install.bat
   ```

2. **启动应用**
   ```
   双击运行 start.bat (完整版)
   或
   双击运行 quick_start.bat (快速版)
   ```

3. **停止服务**
   ```
   双击运行 stop.bat
   ```

### 手动启动

```bash
# 安装依赖
pip install -r requirements.txt

# 启动应用
python app.py
```

## 访问信息

- **本地访问**: http://127.0.0.1:5085
- **网络访问**: http://本机IP:5085
- **默认管理员**: admin / admin123

## 系统要求

- Python 3.8+
- Windows 10/11 或 Linux/macOS
- 至少1GB内存
- 至少100MB磁盘空间

## 文件说明

### 启动脚本
- `install.bat` - 首次安装依赖
- `start.bat` - 完整启动脚本（包含依赖检查）
- `quick_start.bat` - 快速启动脚本
- `stop.bat` - 停止服务脚本

### 核心文件
- `app.py` - 主应用程序
- `wsgi.py` - 生产环境WSGI入口
- `config.py` - 配置文件
- `requirements.txt` - 开发环境依赖
- `requirements_production.txt` - 生产环境依赖

### 部署文件
- `deploy.sh` - Linux部署脚本
- `moneymind.service` - systemd服务文件
- `DEPLOYMENT.md` - 详细部署指南

## 使用指南

### 1. 管理员功能
- 用户管理：添加、编辑、删除用户
- 系统设置：管理分类、供应商、商品
- 数据统计：查看企业整体运营数据

### 2. 交易记录
- 添加交易：支持收入/支出记录
- 智能单价：根据交易类型自动设置单价
- 编辑功能：支持修改和删除交易记录

### 3. 数据管理
- 分类管理：收入/支出分类
- 供应商管理：供应商信息维护
- 商品管理：商品价格和库存管理

### 4. 统计分析
- 收支趋势：柱形图显示每日收支
- 时间范围：支持7天、30天、90天、一年
- 数据导出：支持数据备份和恢复

## 安全建议

1. **更改默认密码**: 首次登录后立即更改管理员密码
2. **定期备份**: 备份 `instance/moneymind.db` 数据库文件
3. **网络安全**: 生产环境建议配置防火墙和SSL证书
4. **权限管理**: 合理分配用户权限，避免数据泄露

## 故障排除

### 常见问题

1. **端口被占用**
   ```
   运行 stop.bat 停止现有服务
   或手动关闭占用端口5085的进程
   ```

2. **依赖安装失败**
   ```
   确保Python版本为3.8+
   尝试运行: pip install --upgrade pip
   然后重新运行 install.bat
   ```

3. **数据库问题**
   ```
   删除 instance/moneymind.db 文件
   重新启动应用，系统会自动创建新数据库
   ```

4. **访问权限问题**
   ```
   确保防火墙允许5085端口
   检查杀毒软件是否阻止了应用
   ```

## 技术支持

如遇到问题，请检查：
1. Python版本是否为3.8+
2. 所有依赖是否正确安装
3. 端口5085是否被其他程序占用
4. 防火墙设置是否正确

## 更新日志

### v1.0.0
- 初始版本发布
- 基础记账功能
- 多用户权限管理
- 供应商和商品管理
- 统计分析功能

## 许可证

本项目仅供学习和企业内部使用。 