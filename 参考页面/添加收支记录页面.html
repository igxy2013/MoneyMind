<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>添加收支 - 七彩果坊</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
<style>
:where([class^="ri-"])::before { content: "\f3c2"; }
</style>
<script>
tailwind.config={
theme:{
extend:{
colors:{
primary:'#6366F1',
secondary:'#34D399'
},
borderRadius:{
'none':'0px',
'sm':'4px',
DEFAULT:'8px',
'md':'12px',
'lg':'16px',
'xl':'20px',
'2xl':'24px',
'3xl':'32px',
'full':'9999px',
'button':'8px'
}
}
}
}
</script>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen">
<div class="flex">
<nav class="w-64 bg-white/80 backdrop-blur-lg shadow-xl h-screen fixed left-0 top-0 z-10">
<div class="p-6">
<div class="flex items-center space-x-3 mb-12">
<div class="w-10 h-10 bg-gradient-to-r from-primary to-purple-500 rounded-xl flex items-center justify-center">
<span class="font-['Pacifico'] text-white text-lg">L</span>
</div>
<span class="font-['Pacifico'] text-xl text-gray-800">logo</span>
</div>
<div class="space-y-2">
<div class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-dashboard-line"></i>
</div>
<span>仪表板</span>
</div>
<div class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-pie-chart-line"></i>
</div>
<span>财务分析</span>
</div>
<div class="flex items-center space-x-3 px-4 py-3 bg-gradient-to-r from-primary/10 to-purple-100 rounded-xl text-primary">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-add-circle-line"></i>
</div>
<span class="font-medium">添加收支</span>
</div>
<div class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-store-2-line"></i>
</div>
<span>供应商管理</span>
</div>
<div class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-shopping-bag-line"></i>
</div>
<span>商品管理</span>
</div>
<a href="https://readdy.ai/home/68da4db0-274b-4402-92aa-4741c9138de8/5ff09e9d-167a-4164-b36c-76dde0bdf60d" data-readdy="true" class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-money-dollar-circle-line"></i>
</div>
<span>应收款</span>
</a>
<div class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-file-list-line"></i>
</div>
<span>分类管理</span>
</div>
<div class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-team-line"></i>
</div>
<span>用户管理</span>
</div>
<div class="flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-xl transition-colors cursor-pointer">
<div class="w-5 h-5 flex items-center justify-center">
<i class="ri-settings-line"></i>
</div>
<span>系统设置</span>
</div>
</div>
</div>
</nav>

<main class="ml-64 flex-1 p-8">
<div class="max-w-4xl mx-auto">
<div class="mb-8">
<div class="flex items-center justify-between mb-6">
<div>
<div class="flex items-center space-x-3 mb-2">
<a href="https://readdy.ai/home/68da4db0-274b-4402-92aa-4741c9138de8/5ff09e9d-167a-4164-b36c-76dde0bdf60d" data-readdy="true" class="w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center transition-colors">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-arrow-left-line text-gray-600"></i>
</div>
</a>
<h1 class="text-3xl font-bold text-gray-900">添加收支</h1>
</div>
<p class="text-gray-600">录入新的收入或支出记录，完善财务数据管理</p>
</div>
</div>

<div class="bg-white/60 backdrop-blur-lg rounded-2xl shadow-lg border border-white/20 p-8">
<form id="incomeExpenseForm" class="space-y-8">
<div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6">
<h3 class="text-lg font-semibold text-gray-900 mb-6">基本信息</h3>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div class="md:col-span-2">
<label class="block text-sm font-medium text-gray-700 mb-3">收支类型 <span class="text-red-500">*</span></label>
<div class="flex space-x-4">
<label class="flex items-center cursor-pointer">
<div class="relative">
<input type="radio" name="transactionType" value="income" class="sr-only" required>
<div class="w-5 h-5 border-2 border-gray-300 rounded-full flex items-center justify-center transition-all duration-200 radio-custom">
<div class="w-2.5 h-2.5 bg-primary rounded-full opacity-0 transition-opacity duration-200 radio-dot"></div>
</div>
</div>
<span class="ml-3 text-gray-700 font-medium">收入</span>
</label>
<label class="flex items-center cursor-pointer">
<div class="relative">
<input type="radio" name="transactionType" value="expense" class="sr-only" required>
<div class="w-5 h-5 border-2 border-gray-300 rounded-full flex items-center justify-center transition-all duration-200 radio-custom">
<div class="w-2.5 h-2.5 bg-primary rounded-full opacity-0 transition-opacity duration-200 radio-dot"></div>
</div>
</div>
<span class="ml-3 text-gray-700 font-medium">支出</span>
</label>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">金额 <span class="text-red-500">*</span></label>
<div class="relative">
<span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">¥</span>
<input type="number" id="amount" name="amount" required step="0.01" min="0" class="w-full pl-8 pr-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm" placeholder="请输入金额">
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">收支分类 <span class="text-red-500">*</span></label>
<div class="relative">
<select id="category" name="category" required class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm pr-10 appearance-none">
<option value="">请选择分类</option>
<optgroup label="收入分类">
<option value="sales">销售收入</option>
<option value="service">服务收入</option>
<option value="investment">投资收益</option>
<option value="other_income">其他收入</option>
</optgroup>
<optgroup label="支出分类">
<option value="purchase">采购成本</option>
<option value="salary">工资薪酬</option>
<option value="rent">租金费用</option>
<option value="utilities">水电费</option>
<option value="marketing">营销推广</option>
<option value="office">办公费用</option>
<option value="transport">交通费用</option>
<option value="other_expense">其他支出</option>
</optgroup>
</select>
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-arrow-down-s-line text-gray-400"></i>
</div>
</div>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">交易日期 <span class="text-red-500">*</span></label>
<input type="date" id="transactionDate" name="transactionDate" required class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">支付方式 <span class="text-red-500">*</span></label>
<div class="relative">
<select id="paymentMethod" name="paymentMethod" required class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm pr-10 appearance-none">
<option value="">请选择支付方式</option>
<option value="cash">现金</option>
<option value="bank_transfer">银行转账</option>
<option value="alipay">支付宝</option>
<option value="wechat">微信支付</option>
<option value="credit_card">信用卡</option>
<option value="check">支票</option>
<option value="other">其他</option>
</select>
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-arrow-down-s-line text-gray-400"></i>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-2xl p-6">
<h3 class="text-lg font-semibold text-gray-900 mb-6">详细信息</h3>
<div class="space-y-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">交易对象</label>
<input type="text" id="counterparty" name="counterparty" class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm" placeholder="请输入客户名称或供应商名称">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">发票号码</label>
<input type="text" id="invoiceNumber" name="invoiceNumber" class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm" placeholder="请输入发票号码">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">备注说明</label>
<textarea id="remark" name="remark" rows="4" class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm resize-none" placeholder="请输入相关备注信息，如交易详情、用途说明等..."></textarea>
</div>
</div>
</div>

<div class="bg-gradient-to-r from-orange-50 to-yellow-50 rounded-2xl p-6">
<h3 class="text-lg font-semibold text-gray-900 mb-6">附加信息</h3>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">项目关联</label>
<div class="relative">
<select id="project" name="project" class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm pr-10 appearance-none">
<option value="">请选择关联项目</option>
<option value="project1">春季水果采购项目</option>
<option value="project2">夏季促销活动</option>
<option value="project3">门店装修改造</option>
<option value="project4">新品推广计划</option>
</select>
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-arrow-down-s-line text-gray-400"></i>
</div>
</div>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">部门</label>
<div class="relative">
<select id="department" name="department" class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm pr-10 appearance-none">
<option value="">请选择部门</option>
<option value="sales">销售部</option>
<option value="purchase">采购部</option>
<option value="finance">财务部</option>
<option value="admin">行政部</option>
<option value="warehouse">仓储部</option>
</select>
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-arrow-down-s-line text-gray-400"></i>
</div>
</div>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">经办人</label>
<input type="text" id="handler" name="handler" class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm" placeholder="请输入经办人姓名">
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">联系电话</label>
<input type="tel" id="contactPhone" name="contactPhone" class="w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-button focus:outline-none focus:ring-2 focus:ring-primary/20 text-gray-900 text-sm" placeholder="请输入联系电话">
</div>
</div>
<div class="flex items-center space-x-3">
<label class="flex items-center cursor-pointer">
<div class="relative">
<input type="checkbox" id="isRecurring" name="isRecurring" class="sr-only">
<div class="w-5 h-5 border-2 border-gray-300 rounded bg-white flex items-center justify-center transition-all duration-200 checkbox-custom">
<div class="w-3 h-3 flex items-center justify-center opacity-0 transition-opacity duration-200 checkbox-check">
<i class="ri-check-line text-white text-xs"></i>
</div>
</div>
</div>
<span class="ml-3 text-sm text-gray-700">设为定期收支</span>
</label>
<label class="flex items-center cursor-pointer">
<div class="relative">
<input type="checkbox" id="needApproval" name="needApproval" class="sr-only">
<div class="w-5 h-5 border-2 border-gray-300 rounded bg-white flex items-center justify-center transition-all duration-200 checkbox-custom">
<div class="w-3 h-3 flex items-center justify-center opacity-0 transition-opacity duration-200 checkbox-check">
<i class="ri-check-line text-white text-xs"></i>
</div>
</div>
</div>
<span class="ml-3 text-sm text-gray-700">需要审批</span>
</label>
</div>
</div>

<div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
<button type="button" id="cancelBtn" class="px-8 py-3 bg-gray-100 text-gray-700 rounded-button whitespace-nowrap hover:bg-gray-200 transition-colors font-medium">取消</button>
<button type="submit" class="px-8 py-3 bg-primary text-white rounded-button whitespace-nowrap hover:bg-primary/90 transition-colors font-medium flex items-center space-x-2">
<div class="w-4 h-4 flex items-center justify-center">
<i class="ri-save-line"></i>
</div>
<span>保存收支记录</span>
</button>
</div>
</form>
</div>
</div>
</main>

<div id="successModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50 flex items-center justify-center">
<div class="bg-white/90 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md mx-4 shadow-2xl border border-white/20 text-center">
<div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
<div class="w-8 h-8 flex items-center justify-center">
<i class="ri-check-line text-green-600 text-2xl"></i>
</div>
</div>
<h3 class="text-xl font-bold text-gray-900 mb-2">保存成功</h3>
<p class="text-gray-600 mb-6">收支记录已成功保存到系统中</p>
<div class="flex space-x-3">
<button id="continueAddBtn" class="flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-button whitespace-nowrap hover:bg-gray-200 transition-colors">继续添加</button>
<a href="https://readdy.ai/home/68da4db0-274b-4402-92aa-4741c9138de8/5ff09e9d-167a-4164-b36c-76dde0bdf60d" data-readdy="true" class="flex-1 px-4 py-3 bg-primary text-white rounded-button whitespace-nowrap hover:bg-primary/90 transition-colors text-center">返回列表</a>
</div>
</div>
</div>

<script id="form-validation-script">
document.addEventListener('DOMContentLoaded', function() {
const form = document.getElementById('incomeExpenseForm');
const transactionDateInput = document.getElementById('transactionDate');
const cancelBtn = document.getElementById('cancelBtn');
const successModal = document.getElementById('successModal');
const continueAddBtn = document.getElementById('continueAddBtn');

transactionDateInput.value = new Date().toISOString().split('T')[0];

form.addEventListener('submit', function(e) {
e.preventDefault();
const formData = new FormData(form);
const amount = parseFloat(formData.get('amount'));
const transactionType = formData.get('transactionType');
const category = formData.get('category');
const paymentMethod = formData.get('paymentMethod');

if (!transactionType) {
alert('请选择收支类型');
return;
}

if (!amount || amount <= 0) {
alert('请输入有效的金额');
return;
}

if (!category) {
alert('请选择收支分类');
return;
}

if (!paymentMethod) {
alert('请选择支付方式');
return;
}

successModal.classList.remove('hidden');
});

cancelBtn.addEventListener('click', function() {
if (confirm('确定要取消吗？未保存的数据将丢失。')) {
window.location.href = 'https://readdy.ai/home/68da4db0-274b-4402-92aa-4741c9138de8/5ff09e9d-167a-4164-b36c-76dde0bdf60d';
}
});

continueAddBtn.addEventListener('click', function() {
form.reset();
transactionDateInput.value = new Date().toISOString().split('T')[0];
successModal.classList.add('hidden');
document.querySelectorAll('input[type="radio"]').forEach(radio => {
radio.checked = false;
radio.closest('label').querySelector('.radio-dot').style.opacity = '0';
radio.closest('label').querySelector('.radio-custom').style.borderColor = '#d1d5db';
});
document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
checkbox.checked = false;
checkbox.closest('label').querySelector('.checkbox-check').style.opacity = '0';
checkbox.closest('label').querySelector('.checkbox-custom').style.backgroundColor = 'white';
checkbox.closest('label').querySelector('.checkbox-custom').style.borderColor = '#d1d5db';
});
});

successModal.addEventListener('click', function(e) {
if (e.target === successModal) {
successModal.classList.add('hidden');
}
});
});
</script>

<script id="custom-form-controls-script">
document.addEventListener('DOMContentLoaded', function() {
document.querySelectorAll('input[type="radio"]').forEach(radio => {
radio.addEventListener('change', function() {
const name = this.name;
document.querySelectorAll(`input[name="${name}"]`).forEach(r => {
const dot = r.closest('label').querySelector('.radio-dot');
const custom = r.closest('label').querySelector('.radio-custom');
if (r.checked) {
dot.style.opacity = '1';
custom.style.borderColor = '#6366F1';
} else {
dot.style.opacity = '0';
custom.style.borderColor = '#d1d5db';
}
});
});
});

document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
checkbox.addEventListener('change', function() {
const check = this.closest('label').querySelector('.checkbox-check');
const custom = this.closest('label').querySelector('.checkbox-custom');
if (this.checked) {
check.style.opacity = '1';
custom.style.backgroundColor = '#6366F1';
custom.style.borderColor = '#6366F1';
} else {
check.style.opacity = '0';
custom.style.backgroundColor = 'white';
custom.style.borderColor = '#d1d5db';
}
});
});
});
</script>
<script id="category-filter-script">
document.addEventListener('DOMContentLoaded', function() {
const transactionTypeRadios = document.querySelectorAll('input[name="transactionType"]');
const categorySelect = document.getElementById('category');
const allOptions = Array.from(categorySelect.querySelectorAll('option, optgroup'));
function filterCategories() {
const selectedType = document.querySelector('input[name="transactionType"]:checked')?.value;

categorySelect.innerHTML = '<option value="">请选择分类</option>';
if (selectedType === 'income') {
const incomeGroup = document.createElement('optgroup');
incomeGroup.label = '收入分类';
incomeGroup.innerHTML = `
<option value="sales">销售收入</option>
<option value="service">服务收入</option>
<option value="investment">投资收益</option>
<option value="other_income">其他收入</option>
`;
categorySelect.appendChild(incomeGroup);
} else if (selectedType === 'expense') {
const expenseGroup = document.createElement('optgroup');
expenseGroup.label = '支出分类';
expenseGroup.innerHTML = `
<option value="purchase">采购成本</option>
<option value="salary">工资薪酬</option>
<option value="rent">租金费用</option>
<option value="utilities">水电费</option>
<option value="marketing">营销推广</option>
<option value="office">办公费用</option>
<option value="transport">交通费用</option>
<option value="other_expense">其他支出</option>
`;
categorySelect.appendChild(expenseGroup);
}
}

transactionTypeRadios.forEach(radio => {
radio.addEventListener('change', filterCategories);
});
});
</script>
</body>
</html>